<div
  class="modal fade"
  id="shopping-cart"
  tabindex="-1"
  aria-labelledby="shopping-cartLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-md">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title" id="shopping-cartLabel">Shopping cart</h1>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        <section class="cart">
          <h3 class="cart__subtitle">Products</h3>

          <ul class="cart__items" id="cart-items"></ul>

          <div class="cart__promo">
            <a
              class="btn"
              data-bs-toggle="collapse"
              href="#collapsePromo"
              role="button"
              aria-expanded="false"
              aria-controls="collapsePromo"
            >
              Promo code
            </a>

            <div class="collapse" id="collapsePromo">
              <div class="card card-body">
                <input
                class="cart__promo-input"
                type="text"
                id="promo-code"
                placeholder="Enter promo code"
              />
              <button class="cart__promo-btn">OK</button>
              </div>
            </div>
           
            
          </div>

          <p class="cart__total">
            Total:: <strong id="cart-total">0.00USD</strong>
          </p>
          <h3 class="cart__subtitle">Place an order</h3>

          <form class="cart__form" action="javascript:void(0)" method="POST">
            <div class="cart__form-group">
              <label class="cart__form-label" for="name"
                >Name <span>*</span></label
              >
              <input
                class="cart__form-input"
                type="text"
                id="name"
                name="name"
                placeholder="Your name"
                autocomplete="additional-name"
              />
            </div>

            <div class="cart__form-group">
              <label class="cart__form-label" for="email"
                >Email <span>*</span></label
              >
              <input
                class="cart__form-input"
                type="email"
                id="email"
                name="email"
                placeholder="Your email address"
                autocomplete="additional-name"
              />
            </div>

            <div class="cart__form-group">
              <label class="cart__form-label" for="phone"
                >Phone <span>*</span></label
              >
              <input
                class="cart__form-input"
                type="tel"
                id="phone"
                name="phone"
                placeholder="Your phone"
                autocomplete="additional-name"
              />
            </div>

            <div class="cart__form-group">
              <label class="cart__form-label" for="comment">Comment</label>
              <textarea
                class="cart__form-input"
                id="comment"
                name="comment"
                placeholder="Your comment"
                rows="3"
              ></textarea>
            </div>

            <button class="cart__order-btn" type="submit">Order</button>
          </form>
        </section>
      </div>
    </div>
  </div>
</div>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    /* Валідація форм */
    const form = document.querySelector(".cart__form");
    if (!form) {
      return;
    }

    const inputs = form.querySelectorAll("input");

    form.addEventListener("submit", function (e) {
      e.preventDefault();

      let isValid = true;

      inputs.forEach((input) => {
        if (!input.value.trim()) {
          input.classList.add("error");
          isValid = false;
        } else {
          input.classList.remove("error");
        }
      });

      if (isValid) {
        alert("Типу все ок і полетіло на сервер");
      }
    });

    /* Валідація кількості товару */
    const input = document.getElementById("items-quantity");

    input.addEventListener("keydown", function (e) {
      // Заборонені клавіші: "-", "e", "+", ".",
      if (["-", "e", "+", "."].includes(e.key)) {
        e.preventDefault();
      }
    });

    input.addEventListener("input", function () {
      // Додатково очищаємо значення, якщо вставлено щось нечислове
      if (input.value < 1) {
        input.value = 1;
      }
    });
  });
</script>
